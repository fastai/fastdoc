---

title: fastdoc.asciidoc


keywords: fastai
sidebar: home_sidebar

summary: "API for the fastdoc convertor"
description: "API for the fastdoc convertor"
nb_path: "00_asciidoc.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_asciidoc.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="markdown_cell" class="doc_header"><code>markdown_cell</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L18" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>markdown_cell</code>(<strong><code>md</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="code_cell" class="doc_header"><code>code_cell</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L22" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>code_cell</code>(<strong><code>code</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>, <strong><code>outputs</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Preprocessing">Preprocessing<a class="anchor-link" href="#Preprocessing"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preprocessing-on-the-list-of-all-cells">Preprocessing on the list of all cells<a class="anchor-link" href="#Preprocessing-on-the-list-of-all-cells"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Removing cells with the flag <code># hide</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_hidden_cells" class="doc_header"><code>remove_hidden_cells</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L34" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_hidden_cells</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove cells marked with #hide</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cells</span> <span class="o">=</span> <span class="p">[</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;# hide&#39;</span><span class="p">),</span> <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;lalala&#39;</span><span class="p">),</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;lalala</span><span class="se">\n</span><span class="s1"># hide&#39;</span><span class="p">)]</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">remove_hidden_cells</span><span class="p">(</span><span class="n">cells</span><span class="p">),</span> <span class="p">[</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;lalala&#39;</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Isolating the bits in triple quotes annotated with asciidoc in code cells without outputs so that they are not interpreted by the converter, with adding <code>##clear##</code> so that the post-processing removes the <code>[python]</code> flag.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="isolate_adoc_blocks" class="doc_header"><code>isolate_adoc_blocks</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L39" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>isolate_adoc_blocks</code>(<strong><code>cells</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;This is some text</span>
<span class="s2">```asciidoc</span>
<span class="s2">This should be isolated</span>
<span class="s2">```</span>
<span class="s2">Some other text</span>
<span class="s2">```asciidoc</span>
<span class="s2">This should also be isolated</span>
<span class="s2">```</span>
<span class="s2">end&quot;&quot;&quot;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">isolate_adoc_blocks</span><span class="p">([</span><span class="n">markdown_cell</span><span class="p">(</span><span class="n">test</span><span class="p">)]),</span> <span class="p">[</span>
    <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;This is some text&quot;</span><span class="p">),</span>
    <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;##clear##This should be isolated&quot;</span><span class="p">),</span>
    <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;Some other text&quot;</span><span class="p">),</span>
    <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;##clear##This should also be isolated&quot;</span><span class="p">),</span>
    <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;end&quot;</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preprocessing-individual-code-cells">Preprocessing individual code cells<a class="anchor-link" href="#Preprocessing-individual-code-cells"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Old way of putting <code>[WARNING]</code>, <code>[NOTE]</code> or <code>[TIP]</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="replace_old_jekylls" class="doc_header"><code>replace_old_jekylls</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L60" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>replace_old_jekylls</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">replace_old_jekylls</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;jekyll_warn(&quot;&quot;&quot;Try to convert me!&quot;&quot;&quot;)&#39;</span><span class="p">)),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;##clear##[WARNING]</span><span class="se">\n</span><span class="s1">====</span><span class="se">\n</span><span class="s1">Try to convert me!</span><span class="se">\n</span><span class="s1">====&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hide input of cells with <code>hide_input=True</code> in metadata (extension hide input) or a flag <code>#hide_input</code>. Put <code>##remove##</code> instead of the code that will be removed during post-processing</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hide_input" class="doc_header"><code>hide_input</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L76" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hide_input</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">hide_input</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;hide_input&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;##remove##&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;hide_input&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">hide_input</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;# hide_input</span><span class="se">\n</span><span class="s1">some code&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;##remove##&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hide outputs of cells with <code>collapsed=True</code> in their metadata or a flag #hide_output</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hide_output" class="doc_header"><code>hide_output</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L84" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hide_output</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">hide_output</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;collapsed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;collapsed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">hide_output</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;# hide_output</span><span class="se">\n</span><span class="s1">some code&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Replace outputs as <code>text_html</code> by <code>text_plain</code> (otherwise they are not kept)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_html" class="doc_header"><code>extract_html</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L91" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_html</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">extract_html</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/html&#39;</span><span class="p">:</span> <span class="s1">&#39;some_html&#39;</span><span class="p">}}])),</span>
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39;some_html&#39;</span><span class="p">}}]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Deal with errors by putting them in plain text</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="split_max_len" class="doc_header"><code>split_max_len</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L99" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>split_max_len</code>(<strong><code>text</code></strong>, <strong><code>l</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="deal_error" class="doc_header"><code>deal_error</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L111" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>deal_error</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">deal_error</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;ename&#39;</span><span class="p">:</span> <span class="s1">&#39;Error name&#39;</span><span class="p">,</span> <span class="s1">&#39;evalue&#39;</span><span class="p">:</span> <span class="s1">&#39;This is an error.&#39;</span><span class="p">}])),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s1">&#39;some code&#39;</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39; Error name: This is an error.&#39;</span><span class="p">},</span>
             <span class="s1">&#39;execution_count&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
             <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="p">{},</span>
             <span class="s1">&#39;output_type&#39;</span><span class="p">:</span> <span class="s1">&#39;execute_result&#39;</span><span class="p">}</span>
        <span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Remove interrupted progress bars from the outputs</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_interrupted_pbars" class="doc_header"><code>remove_interrupted_pbars</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L123" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_interrupted_pbars</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">remove_interrupted_pbars</span><span class="p">(</span>
    <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39;progress-bar-interrupted&#39;</span><span class="p">}},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}])),</span>
        <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> <span class="n">outputs</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get metadata for outputs.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_cell_meta" class="doc_header"><code>get_cell_meta</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L132" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_cell_meta</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">get_cell_meta</span><span class="p">(</span><span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;#id 123</span><span class="se">\n</span><span class="s2">#caption This is a bear</span><span class="se">\n</span><span class="s2">some code&quot;</span><span class="p">)),</span> 
        <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="s1">&#39;caption&#39;</span><span class="p">:</span> <span class="s1">&#39;This is a bear&#39;</span><span class="p">}))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Deal with table captions and refs</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="caption_tables" class="doc_header"><code>caption_tables</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L140" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>caption_tables</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> 
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="s1">&#39;caption&#39;</span><span class="p">:</span> <span class="s1">&#39;a caption&#39;</span><span class="p">},</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;table border=&quot;1&quot;&gt;</span><span class="se">\n</span><span class="s1">Table code&#39;</span><span class="p">}}])</span>
<span class="n">cell2</span> <span class="o">=</span> <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> 
    <span class="n">metadata</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;123&#39;</span><span class="p">,</span> <span class="s1">&#39;caption&#39;</span><span class="p">:</span> <span class="s1">&#39;a caption&#39;</span><span class="p">},</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;table id=&quot;123&quot; border=&quot;1&quot;&gt;</span><span class="se">\n</span><span class="s1">  &lt;caption&gt;a caption&lt;/caption&gt;</span><span class="se">\n</span><span class="s1">Table code&#39;</span><span class="p">}}])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">caption_tables</span><span class="p">(</span><span class="n">cell</span><span class="p">),</span> <span class="n">cell2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;#hide_input</span><span class="se">\n</span><span class="s2">#id 123</span><span class="se">\n</span><span class="s2">#caption a caption&quot;</span><span class="p">,</span> 
    <span class="n">metadata</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;table border=&quot;1&quot;&gt;</span><span class="se">\n</span><span class="s1">Table code&#39;</span><span class="p">},</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">}])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Wrap text in outputs</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="wrap_text_outputs" class="doc_header"><code>wrap_text_outputs</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L171" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>wrap_text_outputs</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> 
    <span class="n">metadata</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="s1">&#39;This is a long output&#39;</span><span class="o">*</span><span class="mi">5</span><span class="p">},</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">},</span>
             <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;This is a long output&#39;</span><span class="o">*</span><span class="mi">5</span><span class="p">}])</span>
<span class="n">wrapped</span> <span class="o">=</span> <span class="s1">&#39;This is a long outputThis is a long outputThis is a long outputThis is a long</span><span class="se">\n</span><span class="s1"> &gt; outputThis is a long output&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">wrap_text_outputs</span><span class="p">(</span><span class="n">cell</span><span class="p">),</span> <span class="n">code_cell</span><span class="p">(</span><span class="s2">&quot;some code&quot;</span><span class="p">,</span> 
    <span class="n">metadata</span><span class="o">=</span><span class="p">{},</span>
    <span class="n">outputs</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;text/plain&#39;</span><span class="p">:</span> <span class="n">wrapped</span><span class="p">},</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span><span class="p">},</span>
             <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="n">wrapped</span><span class="p">}]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Test code length</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="check_code_len" class="doc_header"><code>check_code_len</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L180" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>check_code_len</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preprocessing-individual-markdown-cells">Preprocessing individual markdown cells<a class="anchor-link" href="#Preprocessing-individual-markdown-cells"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Replace "` `" by ``</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="deal_quotes" class="doc_header"><code>deal_quotes</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L188" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>deal_quotes</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">deal_quotes</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;&quot;`code`&quot;&#39;</span><span class="p">)),</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;`code`&#39;</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">deal_quotes</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;a&quot;b&quot;c&#39;</span><span class="p">)),</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;a&quot;b&quot;c&#39;</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">deal_quotes</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;a&#39;b&#39;c&quot;</span><span class="p">)),</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;axxsinglequotebxxsinglequotec&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Add one title level to every Markdown cell</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_title_level" class="doc_header"><code>add_title_level</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L194" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_title_level</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">add_title_level</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;# title&#39;</span><span class="p">)),</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;## title&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Remove digits from numbered lists and format labeled lists</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="deal_with_lists" class="doc_header"><code>deal_with_lists</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L199" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>deal_with_lists</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">deal_with_lists</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;  1. Item</span><span class="se">\n</span><span class="s2">  2. Item&quot;</span><span class="p">)),</span>
        <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;  . Itemxxnewl</span><span class="se">\n</span><span class="s2">  . Itemxxnewl&quot;</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">deal_with_lists</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;- lbl1:: item1</span><span class="se">\n</span><span class="s2">- lbl2:: item2&quot;</span><span class="p">)),</span>
        <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;lbl1::xxnewlsitem1xxnewl</span><span class="se">\n</span><span class="s2">lbl2::xxnewlsitem2xxnewl&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Catch block quotes and put them in asciidoc blocks</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="replace_jekylls" class="doc_header"><code>replace_jekylls</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L220" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>replace_jekylls</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">replace_jekylls</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;text</span><span class="se">\n</span><span class="s2">&gt; : This is a block quote&quot;</span><span class="p">)),</span>
    <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;text</span><span class="se">\n</span><span class="s2">```asciidoc</span><span class="se">\n</span><span class="s2">____</span><span class="se">\n</span><span class="s2">This is a block quote</span><span class="se">\n</span><span class="s2">____</span><span class="se">\n</span><span class="s2">```</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">replace_jekylls</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;text</span><span class="se">\n</span><span class="s2">&gt; jargon: term: Some new term&quot;</span><span class="p">)),</span>
    <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;text</span><span class="se">\n</span><span class="s1">```asciidoc</span><span class="se">\n</span><span class="s1">.Jargon: term</span><span class="se">\n</span><span class="s1">[NOTE]</span><span class="se">\n</span><span class="s1">====</span><span class="se">\n</span><span class="s1">Some new term</span><span class="se">\n</span><span class="s1">====</span><span class="se">\n</span><span class="s1">```</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">test_fail</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">replace_jekylls</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;text</span><span class="se">\n</span><span class="s2">&gt; This is a block quote&quot;</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="interpret_sidebar" class="doc_header"><code>interpret_sidebar</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L247" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>interpret_sidebar</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;#sidebar My intervention</span>

<span class="s2">This will be changed to a sidebar when converted in Asciidoc.</span>

<span class="s2">It can have several lines, contrary to a block quote.&quot;&quot;&quot;</span>
<span class="n">interpret_sidebar</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="n">test</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;cell_type&#39;: &#39;markdown&#39;,
 &#39;source&#39;: &#39;```asciidoc\n.My intervention\n****\n\nThis will be changed to a sidebar when converted in Asciidoc.\n\nIt can have several lines, contrary to a block quote.\n****\n```\n&#39;,
 &#39;metadata&#39;: {}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="process_images" class="doc_header"><code>process_images</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L262" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>process_images</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">txt</span> <span class="o">=</span> <span class="s1">&#39;text</span><span class="se">\n</span><span class="s1">&lt;img alt=&quot;Alternative text&quot; width=&quot;700&quot; caption=&quot;This is an image&quot; src=&quot;puppy.jpg&quot; id=&quot;123&quot;/&gt;</span><span class="se">\n</span><span class="s1">other text&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">process_images</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="n">txt</span><span class="p">)),</span> 
        <span class="n">markdown_cell</span><span class="p">(</span><span class="s1">&#39;text</span><span class="se">\n</span><span class="s1">```asciidoc</span><span class="se">\n</span><span class="s1">[[123]]</span><span class="se">\n</span><span class="s1">.This is an image</span><span class="se">\n</span><span class="s1">image::puppy.jpg[&quot;Alternative text&quot;, 420]</span><span class="se">\n</span><span class="s1">```</span><span class="se">\n</span><span class="s1">other text&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="wrap_references" class="doc_header"><code>wrap_references</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L280" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>wrap_references</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">wrap_references</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;There is a reference &lt;&lt;ref&gt;&gt; here.&quot;</span><span class="p">)),</span>
        <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;There is a reference xxrefrefxxeref here.&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="extract_attachments" class="doc_header"><code>extract_attachments</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L285" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>extract_attachments</code>(<strong><code>cell</code></strong>, <strong><code>dest</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Catch sidebars: sidebars are delimited by header cells like <code>### Sidebar title</code> then <code>### End sidebar</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_re_sidebar_title</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;### Sidebar: Tenacity in deep learning&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;Tenacity in deep learning&#39;,)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="sidebar_headers" class="doc_header"><code>sidebar_headers</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L302" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>sidebar_headers</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">sidebar_headers</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;### Sidebar: My intervention&quot;</span><span class="p">)),</span>
        <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;```asciidoc</span><span class="se">\n</span><span class="s2">.My intervention</span><span class="se">\n</span><span class="s2">****</span><span class="se">\n</span><span class="s2">```&quot;</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">sidebar_headers</span><span class="p">(</span><span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;### End sidebar&quot;</span><span class="p">)),</span> <span class="n">markdown_cell</span><span class="p">(</span><span class="s2">&quot;```asciidoc</span><span class="se">\n</span><span class="s2">****</span><span class="se">\n</span><span class="s2">```&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="All-preprocessing-together">All preprocessing together<a class="anchor-link" href="#All-preprocessing-together"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Raw cells just need to have a new line added at the beginning</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_new_line" class="doc_header"><code>add_new_line</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L314" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_new_line</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="treat_notebook" class="doc_header"><code>treat_notebook</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L319" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>treat_notebook</code>(<strong><code>nb</code></strong>, <strong><code>dest</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Post-processing">Post-processing<a class="anchor-link" href="#Post-processing"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Replace special tokens by their values</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="rep_spec_tok" class="doc_header"><code>rep_spec_tok</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L328" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>rep_spec_tok</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>nbconvert will flag the code cells with <code>[ipython3]</code>, we replace this by <code>[python]</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ipython2python" class="doc_header"><code>ipython2python</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L334" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ipython2python</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">ipython2python</span><span class="p">(</span><span class="s2">&quot;[source, ipython3]</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">some code</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">),</span> <span class="s2">&quot;[source, python]</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">some code</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Remove empty cells or cells flagged for removal (because of hide_input)</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_cells" class="doc_header"><code>remove_cells</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L338" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_cells</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">remove_cells</span><span class="p">(</span><span class="s2">&quot;lalala</span><span class="se">\n</span><span class="s2">[source, python]</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">),</span> <span class="s2">&quot;lalala&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">remove_cells</span><span class="p">(</span><span class="s2">&quot;lalala</span><span class="se">\n</span><span class="s2">[source, python]</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">##remove##</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">),</span> <span class="s2">&quot;lalala&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Clear code cells from the code flag when there is a <code>##clear##</code> tag.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="clear_cells" class="doc_header"><code>clear_cells</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L344" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>clear_cells</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">clear_cells</span><span class="p">(</span>
    <span class="s2">&quot;lalala</span><span class="se">\n</span><span class="s2">[source, python]</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">##clear##pure adoc</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">foo</span><span class="se">\n</span><span class="s2">bla</span><span class="se">\n</span><span class="s2">[source, python]</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">##clear##pure adoc again</span><span class="se">\n</span><span class="s2">----</span><span class="se">\n</span><span class="s2">bli&quot;</span><span class="p">),</span>
        <span class="s2">&quot;lalala</span><span class="se">\n</span><span class="s2">pure adoc</span><span class="se">\n</span><span class="s2">foo</span><span class="se">\n</span><span class="s2">bla</span><span class="se">\n</span><span class="s2">pure adoc again</span><span class="se">\n</span><span class="s2">bli&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Format LaTeX equations properly: they arrive either as <code>latexmath:[$equation$]</code> or <code>latexmath:[\[equation\]]</code></p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="format_latex" class="doc_header"><code>format_latex</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L347" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>format_latex</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">format_latex</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;latexmath:[$equation$]&quot;</span><span class="p">),</span> <span class="sa">r</span><span class="s2">&quot;latexmath:[\(equation\)]&quot;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">format_latex</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;latexmath:[\[equation\]]&quot;</span><span class="p">),</span> 
        <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">[latexmath]</span><span class="se">\n</span><span class="s2">++++</span><span class="se">\n\\</span><span class="s2">begin</span><span class="si">{equation}</span><span class="se">\n</span><span class="s2">equation</span><span class="se">\n\\</span><span class="s2">end</span><span class="si">{equation}</span><span class="se">\n</span><span class="s2">++++</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Format image outputs and make sure they point to the right folder.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="format_outputs" class="doc_header"><code>format_outputs</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L356" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>format_outputs</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">format_outputs</span><span class="p">(</span><span class="s1">&#39;----</span><span class="se">\n</span><span class="s1">![svg](output.svg)</span><span class="se">\n</span><span class="s1">----&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;folder&#39;</span><span class="p">:</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;output.svg&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;alt&#39;</span><span class="p">:</span> <span class="s1">&#39;alt&#39;</span><span class="p">}}),</span>
        <span class="s1">&#39;image::path/output.svg[&quot;alt&quot;]&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">format_outputs</span><span class="p">(</span><span class="s1">&#39;----</span><span class="se">\n</span><span class="s1">![svg](output.svg)</span><span class="se">\n</span><span class="s1">----&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;folder&#39;</span><span class="p">:</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;output.svg&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;alt&#39;</span><span class="p">:</span> <span class="s1">&#39;alt&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">}}),</span>
        <span class="s1">&#39;image::path/output.svg[&quot;alt&quot;, 100]&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">format_outputs</span><span class="p">(</span><span class="s1">&#39;----</span><span class="se">\n</span><span class="s1">![png](output1.png)</span><span class="se">\n</span><span class="s1">----&#39;</span><span class="p">),</span>
        <span class="s1">&#39;image::./output1.png[&quot;&quot;]&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Deal with quotes</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fix_quotes" class="doc_header"><code>fix_quotes</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L371" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fix_quotes</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">fix_quotes</span><span class="p">(</span><span class="s2">&quot;``double quotes&#39;&#39;&quot;</span><span class="p">),</span> <span class="s1">&#39;&quot;double quotes&quot;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Put back &lt;&lt; &gt;&gt; around refs</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fix_references" class="doc_header"><code>fix_references</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L375" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fix_references</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">fix_references</span><span class="p">(</span><span class="s2">&quot;There is a reference xxrefrefxxeref here.&quot;</span><span class="p">),</span> <span class="s2">&quot;There is a reference &lt;&lt;ref&gt;&gt; here.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Format tables</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="format_tables" class="doc_header"><code>format_tables</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L378" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>format_tables</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Just as a personal preference, replace all blocks of three new lines or more by \n\n</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_lines" class="doc_header"><code>remove_lines</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L400" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_lines</code>(<strong><code>text</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">remove_lines</span><span class="p">(</span><span class="s1">&#39;a</span><span class="se">\n\n\n\n\n\n</span><span class="s1">b&#39;</span><span class="p">),</span> <span class="s1">&#39;a</span><span class="se">\n\n\n</span><span class="s1">b&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All together</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="post_process" class="doc_header"><code>post_process</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L408" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>post_process</code>(<strong><code>adoc</code></strong>, <strong><code>metadata</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Exporting">Exporting<a class="anchor-link" href="#Exporting"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_metadata" class="doc_header"><code>add_metadata</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L421" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_metadata</code>(<strong><code>nb</code></strong>)</p>
</blockquote>
<p>Stripping removes metadata used in the conversion.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="output_num" class="doc_header"><code>output_num</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L435" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>output_num</code>(<strong><code>n</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">output_num</span><span class="p">(</span><span class="s1">&#39;output_31_0.png&#39;</span><span class="p">),</span> <span class="mi">31</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">output_num</span><span class="p">(</span><span class="s1">&#39;output_12_0.svg&#39;</span><span class="p">),</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_output_width" class="doc_header"><code>get_output_width</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L450" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_output_width</code>(<strong><code>name</code></strong>, <strong><code>raw</code></strong>, <strong><code>folder</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_nb" class="doc_header"><code>convert_nb</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L456" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_nb</code>(<strong><code>fname</code></strong>, <strong><code>dest_path</code></strong>=<em><code>'.'</code></em>, <strong><code>folder</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert a notebook <code>fname</code> to html file in <code>dest_path</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dest</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="n">convert_nb</span><span class="p">(</span><span class="s1">&#39;test/_test.ipynb&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converting test/_test.ipynb
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="copy_images" class="doc_header"><code>copy_images</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L485" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>copy_images</code>(<strong><code>path</code></strong>, <strong><code>dest_path</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dest</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">)</span><span class="o">/</span><span class="s1">&#39;convert_book&#39;</span>
<span class="c1"># copy_images(Path(&#39;book&#39;), dest)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="fastdoc_convert_all" class="doc_header"><code>fastdoc_convert_all</code><a href="https://github.com/fastai/fastdoc/tree/master/fastdoc/asciidoc.py#L498" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>fastdoc_convert_all</code>(<strong><code>path</code></strong>:"Path to notebooks"=<em><code>'book'</code></em>, <strong><code>dest_path</code></strong>:"Path to generated asciidoc files"=<em><code>'../convert_book'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_asciidoc.ipynb.
Converted 01_clean.ipynb.
Converted index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

